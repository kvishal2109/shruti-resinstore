<!DOCTYPE html>
<html>
<head>
    <title>Product Extractor - laxmisingla.catalog.to</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 1200px; margin: 0 auto; }
        .instructions { background: #f0f0f0; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        button { background: #667eea; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; }
        button:hover { background: #5568d3; }
        #output { margin-top: 20px; padding: 15px; background: #f9f9f9; border-radius: 5px; white-space: pre-wrap; font-family: monospace; }
        .step { margin: 10px 0; padding: 10px; background: white; border-left: 3px solid #667eea; }
    </style>
</head>
<body>
    <h1>Product Extractor for laxmisingla.catalog.to</h1>
    
    <div class="instructions">
        <h2>How to Use:</h2>
        <div class="step">
            <strong>Step 1:</strong> Open <a href="https://laxmisingla.catalog.to/" target="_blank">https://laxmisingla.catalog.to/</a> in a new tab
        </div>
        <div class="step">
            <strong>Step 2:</strong> Open browser Developer Tools (Press F12)
        </div>
        <div class="step">
            <strong>Step 3:</strong> Go to the Console tab
        </div>
        <div class="step">
            <strong>Step 4:</strong> Copy and paste the JavaScript code below into the console and press Enter
        </div>
        <div class="step">
            <strong>Step 5:</strong> Copy the output and paste it below, then click "Generate Products Code"
        </div>
    </div>

    <h3>JavaScript Code to Run on the Website:</h3>
    <textarea id="extractorCode" style="width: 100%; height: 200px; font-family: monospace; padding: 10px;">
// Product Extractor for laxmisingla.catalog.to
const products = [];

// Try multiple selectors to find products
const productSelectors = [
    '[class*="product"]',
    '[class*="item"]',
    '[class*="card"]',
    '[class*="catalog"]',
    'article',
    '.product-item',
    '.catalog-item'
];

let foundProducts = false;

productSelectors.forEach(selector => {
    const elements = document.querySelectorAll(selector);
    if (elements.length > 0 && !foundProducts) {
        console.log(`Found ${elements.length} elements with selector: ${selector}`);
        
        elements.forEach((el, index) => {
            // Try to find product name
            const nameSelectors = ['h1', 'h2', 'h3', 'h4', '[class*="title"]', '[class*="name"]', '[class*="product-name"]'];
            let name = '';
            for (const sel of nameSelectors) {
                const nameEl = el.querySelector(sel);
                if (nameEl && nameEl.textContent.trim()) {
                    name = nameEl.textContent.trim();
                    break;
                }
            }
            
            // Try to find price
            const priceSelectors = ['[class*="price"]', '[class*="cost"]', '[class*="amount"]'];
            let price = 0;
            for (const sel of priceSelectors) {
                const priceEl = el.querySelector(sel);
                if (priceEl) {
                    const priceText = priceEl.textContent.replace(/[^\d]/g, '');
                    if (priceText) {
                        price = parseInt(priceText);
                        break;
                    }
                }
            }
            
            // Try to find image
            const img = el.querySelector('img');
            let imageUrl = '';
            if (img) {
                imageUrl = img.src || img.getAttribute('data-src') || img.getAttribute('data-lazy-src');
                // If relative URL, make it absolute
                if (imageUrl && imageUrl.startsWith('/')) {
                    imageUrl = 'http://laxmisingla.catalog.to' + imageUrl;
                } else if (imageUrl && !imageUrl.startsWith('http')) {
                    imageUrl = 'http://laxmisingla.catalog.to/' + imageUrl;
                }
            }
            
            if (name && price > 0 && imageUrl) {
                products.push({
                    id: (index + 1).toString(),
                    name: name,
                    price: price,
                    image: imageUrl,
                    description: name + ' - High quality product',
                    category: 'Clothing'
                });
            }
        });
        
        if (products.length > 0) {
            foundProducts = true;
        }
    }
});

// Also try to get all images and text on the page
if (products.length === 0) {
    console.log('Trying alternative method...');
    document.querySelectorAll('img').forEach((img, index) => {
        const src = img.src || img.getAttribute('data-src');
        if (src && !src.includes('logo') && !src.includes('icon')) {
            const parent = img.closest('[class*="product"], [class*="item"], [class*="card"], article, div');
            if (parent) {
                const text = parent.textContent.trim();
                const priceMatch = text.match(/â‚¹?\s*(\d+)/);
                const nameMatch = text.match(/^([^\n]+)/);
                
                if (nameMatch && priceMatch) {
                    let imageUrl = src;
                    if (imageUrl.startsWith('/')) {
                        imageUrl = 'http://laxmisingla.catalog.to' + imageUrl;
                    } else if (!imageUrl.startsWith('http')) {
                        imageUrl = 'http://laxmisingla.catalog.to/' + imageUrl;
                    }
                    
                    products.push({
                        id: (products.length + 1).toString(),
                        name: nameMatch[1].substring(0, 100),
                        price: parseInt(priceMatch[1]),
                        image: imageUrl,
                        description: nameMatch[1] + ' - High quality product',
                        category: 'Clothing'
                    });
                }
            }
        }
    });
}

console.log(`\n\nFound ${products.length} products:\n`);
console.log(JSON.stringify(products, null, 2));

// Copy to clipboard
if (products.length > 0) {
    const jsonString = JSON.stringify(products, null, 2);
    navigator.clipboard.writeText(jsonString).then(() => {
        console.log('\nâœ… Products copied to clipboard!');
    }).catch(() => {
        console.log('\nðŸ“‹ Copy this JSON manually:');
    });
}
    </textarea>

    <h3>Paste Extracted Products JSON Here:</h3>
    <textarea id="productJson" placeholder="Paste the JSON output from the console here..." style="width: 100%; height: 300px; font-family: monospace; padding: 10px;"></textarea>
    
    <br><br>
    <button onclick="generateCode()">Generate Products Code</button>
    
    <div id="output"></div>

    <script>
        function generateCode() {
            const jsonInput = document.getElementById('productJson').value.trim();
            if (!jsonInput) {
                alert('Please paste the JSON output first!');
                return;
            }

            try {
                const products = JSON.parse(jsonInput);
                
                let code = `import { Product } from "@/types";\n\n`;
                code += `// Products extracted from laxmisingla.catalog.to\n`;
                code += `export const hardcodedProducts: Product[] = [\n`;
                
                products.forEach((product, index) => {
                    const id = product.id || (index + 1).toString();
                    const name = product.name || 'Product ' + id;
                    const description = product.description || name + ' - High quality product';
                    const price = product.price || 999;
                    const originalPrice = product.originalPrice || null;
                    const image = product.image || '';
                    const category = product.category || 'Clothing';
                    
                    code += `  {\n`;
                    code += `    id: "${id}",\n`;
                    code += `    name: "${name.replace(/"/g, '\\"')}",\n`;
                    code += `    description: "${description.replace(/"/g, '\\"')}",\n`;
                    code += `    price: ${price},\n`;
                    if (originalPrice) {
                        code += `    originalPrice: ${originalPrice},\n`;
                    }
                    code += `    image: "${image}",\n`;
                    code += `    category: "${category}",\n`;
                    code += `    inStock: true,\n`;
                    code += `    stock: 25,\n`;
                    code += `    createdAt: new Date(),\n`;
                    code += `    updatedAt: new Date(),\n`;
                    code += `  }${index < products.length - 1 ? ',' : ''}\n`;
                });
                
                code += `];\n`;
                
                document.getElementById('output').textContent = code;
                
                // Copy to clipboard
                navigator.clipboard.writeText(code).then(() => {
                    alert('âœ… Code generated and copied to clipboard! Paste it into lib/data/products.ts');
                });
                
            } catch (error) {
                alert('Error parsing JSON: ' + error.message);
            }
        }
    </script>
</body>
</html>

